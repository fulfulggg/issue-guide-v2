// セクション11: 失敗パターンとリカバリー
export interface FailurePattern {
  id: number;
  title: string;
  symptoms: string[];
  causes: string[];
  recovery: {
    steps: string[];
    template?: string;
  };
}

export interface SelfContextualizationGate {
  title: string;
  description: string;
  checkItems: {
    id: number;
    label: string;
    question: string;
    passExample: string;
    failExample: string;
  }[];
  failureMessage: string;
  passMessage: string;
}

export interface FinalChecklist {
  title: string;
  categories: {
    id: number;
    title: string;
    items: string[];
  }[];
  passThreshold: string;
}

export interface EvaluateContent {
  id: string;
  title: string;
  failurePatterns: FailurePattern[];
  selfContextualizationGate: SelfContextualizationGate;
  finalChecklist: FinalChecklist;
}

// セクション11のコンテンツ
export const evaluateContent: EvaluateContent = {
  id: "evaluate",
  title: "失敗パターンとリカバリー（セルフ診断）",
  failurePatterns: [
    {
      id: 1,
      title: "失敗パターン1：テーマ止まり",
      symptoms: [
        "「〇〇について」という表現で終わっている",
        "「？」で終わっていない（質問形式でない）",
        "「だから何？」に答えられない",
        "答えが出ても次の行動が想像できない",
      ],
      causes: [
        "ニュースの「テーマ」をそのまま書いている",
        "「問い」を立てるプロセスをスキップしている",
        "論点の定義（質問形式で、決定につながる）を忘れている",
      ],
      recovery: {
        steps: [
          "「〇〇について、私たちは何を決めたいのか？」と自問する",
          "「この情報で、誰が何を判断できるようになるか？」を考える",
          "「？」で終わる形に書き直す",
          "書き直した論点に対して「この答えが出たら、何が変わるか？」をテストする",
        ],
        template: `変換前：「〇〇について」
　　↓
自問：「〇〇について、私たちは何を決めたいのか？」
　　↓
変換後：「〇〇は、□□にとって、△△すべきか？」`,
      },
    },
    {
      id: 2,
      title: "失敗パターン2：事実確認止まり",
      symptoms: [
        "「〇〇は何か？」「〇〇はいくらか？」という形式",
        "5分のGoogle検索で答えが出る",
        "答えが出ても「で、うちはどうするの？」に答えられない",
        "判断・評価を伴わない",
      ],
      causes: [
        "「調べる」と「判断する」を混同している",
        "事実確認の「先」にある論点を考えていない",
        "情報収集それ自体を目的化している",
      ],
      recovery: {
        steps: [
          "事実を確認した「後に」何を判断したいのかを考える",
          "「その事実が分かったら、私たちは何を決めるのか？」と自問する",
          "事実確認を「判断のための前提情報」として位置づけ、本当の論点を導出する",
        ],
        template: `変換前：「GPT-4の価格はいくらか？」（事実確認）
　　↓
自問：「価格が分かったら、私たちは何を決めるのか？」
　　↓
変換後：「GPT-4の価格上昇は、当社のAI戦略のコスト試算を見直すほどのインパクトがあるか？」`,
      },
    },
    {
      id: 3,
      title: "失敗パターン3：主張・結論先行",
      symptoms: [
        "「〇〇すべきだ」「〇〇である」という断定形",
        "質問ではなく意見になっている",
        "検証すべき内容なのに、すでに答えが決まっている",
        "反論や代替案を想定していない",
      ],
      causes: [
        "強い確信や直感を「論点」と混同している",
        "論点設定を飛ばして結論に飛びついている",
        "「仮説」と「結論」の違いを理解していない",
      ],
      recovery: {
        steps: [
          "主張を疑問文に戻す：「本当にそうなのか？」",
          "「どの程度そうなのか？」「どういう条件でそうなのか？」を考える",
          "反対の立場を想定し、「なぜそうでない可能性があるか？」を列挙する",
          "主張を「仮説」として扱い、検証すべき論点を導出する",
        ],
        template: `変換前：「当社はAI投資を増やすべきだ」（主張）
　　↓
疑問化：「本当にそうなのか？どの程度か？」
　　↓
変換後：「当社のどの領域でAI投資を増やすと、最も高いROIが期待できるか？」`,
      },
    },
    {
      id: 4,
      title: "失敗パターン4：範囲が広すぎる",
      symptoms: [
        "1つの論点に複数の質問が混在している",
        "答えるために膨大な調査が必要",
        "「Yes/No」や「A/B/C」で答えられない",
        "意思決定者が「結局何を決めればいいの？」と言う",
      ],
      causes: [
        "論点を分解するプロセスをスキップしている",
        "MECE分解の粒度が粗い",
        "「1つの論点＝1つの決定」の原則を忘れている",
      ],
      recovery: {
        steps: [
          "「この論点に答えるために、何を先に明らかにする必要があるか？」と自問する",
          "大きな論点を複数のサブ論点に分解する",
          "各サブ論点が「1つの決定」に対応していることを確認する",
          "優先順位をつけ、最も重要なサブ論点から取り組む",
        ],
        template: `変換前：「当社はAIをどう活用すべきか？」（広すぎる）
　　↓
分解：
・サブ論点1：「どの業務領域でAIを活用すべきか？」
・サブ論点2：「選んだ領域で、どの技術（LLM/画像認識等）を使うべきか？」
・サブ論点3：「内製すべきか、外部サービスを使うべきか？」
　　↓
優先順位：サブ論点1 → 2 → 3の順で取り組む`,
      },
    },
    {
      id: 5,
      title: "失敗パターン5：曖昧な言葉",
      symptoms: [
        "「検討する」「可能性」「動向」「影響」等の曖昧語が多い",
        "測定可能な基準がない",
        "答えの良し悪しを判定できない",
        "複数の人が読んだとき、解釈が分かれる",
      ],
      causes: [
        "思考が曖昧なまま言語化している",
        "具体的な基準を設定する手間を省いている",
        "「精緻化」のプロセスをスキップしている",
      ],
      recovery: {
        steps: [
          "曖昧な言葉を見つけたら、「具体的には？」と自問する",
          "数値化できないか検討する（金額、期間、割合、件数等）",
          "比較対象を明示する（「〇〇と比較して」）",
          "判定基準を明示する（「〇〇を超えたら」「〇〇が△△以上なら」）",
        ],
        template: `変換前：「AI導入の可能性を検討すべきか？」（曖昧）
　　↓
具体化：
・「可能性」→「ROIが1年以内にプラスになる」
・「検討」→「予算を確保して試験導入する」
　　↓
変換後：「AI導入によるコスト削減効果が、初期投資○○万円を1年以内に回収できるほど大きいか？」`,
      },
    },
    {
      id: 6,
      title: "失敗パターン6：自分事化の欠如",
      symptoms: [
        "ニュースの数値をそのまま記載している（「投資額300億円」）",
        "「業界」「市場」など一般論で止まっている",
        "自社の既存システム・業務との比較がない",
        "「当社の〇〇と比較して」という表現がない",
        "顧客・パートナーとの対話で使えない",
      ],
      causes: [
        "自社アセットのリストを持っていない（または参照していない）",
        "「比較する」というプロセスをスキップしている",
        "速報性を意識するあまり、自分事化を省略している",
        "「評論」と「武器」の違いを理解していない",
      ],
      recovery: {
        steps: [
          "自社の比較対象リスト（文脈設定シート）を参照する",
          "ニュースの数値に対応する自社の数値を探す",
          "「○倍」「△%」「××万円（当社予算の〇%）」の形式で比較する",
          "「どの部門の」「どの業務に」「どう影響するか」を具体化する",
          "「この情報を顧客に説明するとき、どう言うか？」をテストする",
        ],
        template: `変換前：「IIJが10MWのDCを増設した」（ニュースそのまま）
　　↓
自分事化：
・比較対象：当社の苫小牧DC（受電容量○MW）
・規模比較：IIJの増設は当社DCの△倍の規模
・投資比較：300億円は当社の昨年度投資の□倍
・業務影響：当社のDC戦略（次世代高密度化）への反映要否
　　↓
変換後：「IIJの10MW DC増設（当社苫小牧DCの△倍規模、投資額は当社昨年度の□倍）は、当社の次世代DC戦略を見直すほどのインパクトがあるか？」`,
      },
    },
  ],
  selfContextualizationGate: {
    title: "自分事化ゲート（必須チェック）",
    description:
      "以下の3項目すべてにチェックが入らない論点は、チームに共有してはいけません。自分事化なしの論点は「評論」で終わり、意思決定や行動につながりません。",
    checkItems: [
      {
        id: 1,
        label: "比較対象の明示",
        question: "当社の既存システム・プロジェクト・業務と具体的に比較できているか？",
        passExample:
          "「当社の苫小牧DC」「昨年度の○○プロジェクト」「既存のカスタマーサポートシステム」など具体的な比較対象が明示されている",
        failExample:
          "「当社に影響がある」「業界にとって重要」など抽象的な表現で、具体的な比較対象がない",
      },
      {
        id: 2,
        label: "定量比較の実施",
        question: "「○倍」「△%」「××万円」など、数値で比較できているか？",
        passExample:
          "「受電容量は当社DCの3倍」「投資額は当社予算の25%」「処理件数は月間100万件（当社の2倍）」など具体的な数値比較",
        failExample:
          "「大規模」「かなりの金額」「多くの」など定量化されていない表現",
      },
      {
        id: 3,
        label: "業務影響の具体化",
        question:
          "「どの部門の」「どの業務プロセスに」「どのような影響を与えるか」を具体的に言えるか？",
        passExample:
          "「カスタマーサポート部の一次問い合わせ対応業務に影響し、月間処理件数5万件の30%を自動化可能」など具体的な影響経路",
        failExample:
          "「業務効率が向上する」「競争力に影響」など抽象的な表現",
      },
    ],
    failureMessage:
      "⚠️ 自分事化が不十分です。このままでは「評論」で終わり、意思決定や行動につながりません。上記のチェック項目を参考に、論点を書き直してください。",
    passMessage:
      "✅ 自分事化ゲートを通過しました。この論点はチームに共有可能です。速報性を重視し、暫定版として即座に共有することを推奨します。",
  },
  finalChecklist: {
    title: "論点の品質チェックリスト（最終確認）",
    categories: [
      {
        id: 1,
        title: "形式チェック",
        items: [
          "質問形式になっている（「？」で終わる）",
          "分岐する選択肢（2つ以上）が想定できる",
          "未解決である（5分のGoogle検索では答えが出ない）",
          "曖昧な言葉（「検討」「動向」「可能性」等）を排除している",
        ],
      },
      {
        id: 2,
        title: "意思決定との関連",
        items: [
          "答えが出たときの決定内容が想像できる",
          "意思決定者と決定期限が明確",
          "答えによって行動が変わる（「で、うちはどうするの？」に答えられる）",
        ],
      },
      {
        id: 3,
        title: "自分事化（必須）",
        items: [
          "比較対象（当社の既存○○）を明示できている",
          "定量比較（○倍、△%、××万円）ができている",
          "業務影響（どの部門の、どの業務に、どう影響）を具体化できている",
        ],
      },
    ],
    passThreshold:
      "すべての項目にチェックが入れば合格です。特に「自分事化」の3項目は必須ゲートです。1つでも欠けている場合は、論点を書き直してください。",
  },
};

// 全セクションをまとめたエクスポート
export const evaluateSections = [
  { id: "evaluate", title: "失敗パターンとリカバリー", sectionNumber: 11 },
] as const;
